/* ====== Variables (hereda si ya las tenías) ====== */
:root{
  --bg: #0b0b0c;
  --surface: #121214;
  --surface-2: #17171a;
  --text: #eaeaea;
  --muted: #9aa0a6;
  --primary: #e63946;
  --border: rgba(255,255,255,.08);
  --shadow: 0 10px 25px rgba(0,0,0,.35);
  --radius: 14px;
  --radius-sm: 10px;
}


.detail-wrap{
  max-width: 1100px;
  margin: 0 auto;
  padding: 1rem;
  display: grid;
  gap: 1.25rem;
}

.detail-wrap {
    margin-top: 3rem;
}
/* Encabezado secundario/back */
.detail-wrap .btn.ghost{
  align-self: start;
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text);
}

/* ====== Grid principal (imagen + contenido) ====== */
.detail-grid{
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.25rem;
}
@media (min-width: 920px){
  .detail-grid{ grid-template-columns: 1.15fr 1fr; }
}

.container-detail{
 height: 100%;      
  overflow: hidden;
}




.hero-img{
  width: 100%;
  height: 100%;
  aspect-ratio:16/16;
  object-fit: cover;
  border-radius: var(--radius);
  display: block;
  box-shadow: var(--shadow);

}

/* ====== Título y metadatos ====== */
.detail-grid h1{
  font-size: clamp(1.6rem, 1.2rem + 1.2vw, 2.1rem);
  margin: .15rem 0 .25rem;
  letter-spacing: .2px;
}

.meta-chips{
  display: flex;
  flex-wrap: wrap;
  gap: .5rem;
  margin: .6rem 0 1rem;
}

.chip{
  display: inline-flex;
  align-items: center;
  gap: .35rem;
  padding: .32rem .65rem;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface-2);
  color: var(--text);
  font-size: .85rem;
  opacity: .95;
}

/* facts (tiempos, tags…) */
.facts{
  display: flex;
  flex-wrap: wrap;
  gap: .5rem;
  margin: .3rem 0 1rem;
}
.facts .chip{ background: transparent; }

/* ====== Botonera ====== */
.btnbar{
  display: flex;
  flex-wrap: wrap;
  gap: .7rem;
  margin: .5rem 0 1rem;
}

.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: .65rem 1.15rem;
  border-radius: 10px;
  font-weight: 700;
  text-decoration: none;
  border: 0;
  background: linear-gradient(135deg, var(--primary), #c62836);
  color: #fff;
  box-shadow: 0 8px 20px rgba(230,57,70,.25);
  transition: transform .15s ease, filter .2s ease, box-shadow .2s ease;
  cursor: pointer;
}
.btn:hover{ filter: brightness(1.05); transform: translateY(-1px); }
.btn:active{ transform: translateY(0); }
.btn.ghost{
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text);
  box-shadow: none;
}

/* ====== Paneles (ingredientes, pasos, etc.) ====== */
.two-col{
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
  margin-top: 1rem;
}
@media (min-width: 920px){
  .two-col{ grid-template-columns: 1fr 1fr; }
}

.card-pane{
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem 1.1rem;
  box-shadow: none;
}
.card-pane h3{
  margin: 0 0 .65rem;
  font-size: 1.05rem;
  letter-spacing: .2px;
}
.card-pane ul, .card-pane ol{ margin: 0; padding-left: 1.1rem; }
.card-pane li{ margin: .35rem 0; color: var(--text); }
.card-pane em{ color: var(--muted); }

/* ====== Nutrición de API externa ====== */
#extra-nutrition.ext-pane{
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem 1.1rem;
}
#extra-nutrition h3{
  margin: 0 0 .5rem;
}
#extra-nutrition ul{
  margin: 0;
  padding-left: 1.1rem;
}
#extra-nutrition li{ margin: .3rem 0; }

/* ====== “More from this region” ====== */
.also-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: .9rem;
}
.also-card{
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  overflow: hidden;
  cursor: pointer;
  transition: transform .2s ease, box-shadow .25s ease, border-color .2s ease;
}
.also-card:hover{
  transform: translateY(-3px);
  box-shadow: var(--shadow);
  border-color: rgba(255,255,255,.14);
}
.also-card img{
  width: 100%;
  aspect-ratio: 4/3;
  object-fit: cover;
  display: block;
}
.also-card h4{
  margin: .6rem .7rem .9rem;
  font-size: 1rem;
  font-weight: 600;
}

/* ====== Accesibilidad/estados ====== */
.also-card:focus-visible,
.btn:focus-visible,
.card-pane:focus-within{
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

[role="alert"]{ color: var(--muted); }

/* ====== Helpers ====== */
.hidden { display: none !important; }

/* ====== Responsive refinements ====== */
@media (max-width: 480px){
  .btn{ width: 100%; }
  .hero-img{ aspect-ratio: 4/3; }
}




/* --- FAVORITE BUTTON --- */
.fav-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.55rem 0.9rem;
  border-radius: var(--radius-sm, 8px);
  border: 1px solid var(--border, rgba(255,255,255,.1));
  background: transparent;
  color: var(--text, #eaeaea);
  font-weight: 500;
  cursor: pointer;
  transition: all 0.25s ease;
}

.fav-btn:hover {
  background: rgba(255, 255, 255, 0.08);
  transform: translateY(-1px);
}

.fav-btn span[aria-hidden="true"] {
  font-size: 1.1rem;
  filter: drop-shadow(0 1px 2px rgba(0,0,0,.3));
}

/* Estado cuando la receta está en favoritos */
.fav-btn.is-fav {
  border-color: var(--primary, #ff0015);
  color: var(--primary, #ff0015);
  background: rgba(255, 0, 21, 0.08);
  font-weight: 600;
}

.fav-btn.is-fav:hover {
  background: rgba(255, 0, 21, 0.18);
  transform: translateY(-1px) scale(1.02);
}

/* Accesibilidad visual cuando se navega con teclado */
.fav-btn:focus-visible {
  outline: 2px solid var(--primary, #ff0015);
  outline-offset: 2px;
}

/* --- FAVORITES BADGE EN EL NAV --- */
#fav-count.badge {
  margin-left: 0.25rem;
  font-size: 0.85rem;
  font-weight: 600;
  transition: all 0.3s ease;
}

#favorites-link:hover #fav-count {
  transform: scale(1.15);
}

/* Opcional: pequeña animación cuando cambia el contador */
@keyframes pop {
  0% { transform: scale(1); }
  30% { transform: scale(1.3); }
  100% { transform: scale(1); }
}
[data-fav-btn].is-fav span[aria-hidden="true"] {
  animation: pop 0.3s ease;
}


@media (max-width: 600px) {
  .fav-btn {
    width: 100%;
    justify-content: center;
  }
}
